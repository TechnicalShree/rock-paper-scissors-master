const ruleToggle=document.querySelector(".rules"),ruleBg=document.querySelector(".rule_bg"),ruleClose=document.getElementById("rule_close"),ruleDisplay=document.querySelector(".rule_box"),rockChoosen=document.querySelector(".rock"),paperChoosen=document.querySelector(".paper"),scissorsChoosen=document.querySelector(".scissors"),mainGame=document.querySelector(".main_game"),myDecision=document.querySelector(".my_side"),houseDecision=document.querySelector(".house_side"),result=document.querySelector(".result"),decision=document.querySelector(".decision"),score=document.querySelector(".score"),mePicked="YOU PICKED",housePicked="THE HOUSE PICKED";let meChoose,houseChoose,myMove,houseMove,whoWins,scores;scores=localStorage.RPS_Game_Score?Number(localStorage.RPS_Game_Score):0,score.innerHTML=scores;const ruleRemove=()=>{ruleToggle.classList.remove("active")},ruleAdd=()=>{ruleToggle.classList.add("active")};function scoreUpdater(a){scores<=0&& -1===a||(scores+=a,localStorage.setItem("RPS_Game_Score",scores))}ruleBg.addEventListener("click",ruleRemove),ruleClose.addEventListener("click",ruleRemove),ruleDisplay.addEventListener("click",ruleAdd);const helper=()=>{let b=0,c=document.querySelector(".me"),a=houseChoosen();houseMove=assignMove(a,housePicked,"house"),houseDecision.innerHTML=houseMove;let d=document.querySelector(".house");if(meChoose==a?helper():3===meChoose&&1===a||2===meChoose&&3===a||1===meChoose&&2===a?(output("YOU LOSE"),d.classList.add("winner"),b=-1):(output("YOU WIN"),c.classList.add("winner"),b=1),scoreUpdater(b),result.classList.remove("remove"),whoWins){result.innerHTML=whoWins;let e=document.querySelector(".btn");score.innerHTML=scores,e.addEventListener("click",()=>{meChoose=0,a=0,decision.classList.add("noplay"),result.innerHTML="",result.classList.add("remove"),mainGame.classList.add("active")})}};function output(a){switch(a){case"YOU WIN":case"YOU LOSE":case"DRAW":whoWins=`<h2>${a}</h2>
      <button class="btn" type="button">PLAY AGAIN</button>`}}function assignMove(d,b,c){let a;switch(d){case 1:a=`<h2>${b}</h2><div class="move rock choosen ${c}">
      <img src="./images/icon-rock.svg" alt="rock" />
    </div>`;break;case 2:a=`<h2>${b}</h2><div class="move paper choosen ${c}">
      <img src="./images/icon-paper.svg" alt="paper" />
    </div>`;break;case 3:a=`<h2>${b}</h2><div class="move scissors choosen ${c}">
      <img src="./images/icon-scissors.svg" alt="scissors" />
    </div>`}return a}const clear=()=>{mainGame.classList.remove("active")};function houseChoosen(){return Math.ceil(3*Math.random())}const myMovePass=()=>{myMove=assignMove(meChoose,"YOU PICKED","me"),decision.classList.remove("noplay"),myDecision.innerHTML=myMove,clear(),houseDecision.innerHTML=`<h2>${housePicked}</h2>
  <div class="pending"></div>`,setTimeout(helper,1e3)};scissorsChoosen.addEventListener("click",()=>{meChoose=3,myMovePass()}),paperChoosen.addEventListener("click",()=>{meChoose=2,myMovePass()}),rockChoosen.addEventListener("click",()=>{meChoose=1,myMovePass()})